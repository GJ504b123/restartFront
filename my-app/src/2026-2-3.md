[TOC]
# ğŸ“… GJ504b çš„ React è¿›é˜¶ä¹‹è·¯ï¼šDay 3
å­¦ä¹ ç»„ä»¶å¦‚ä½•â€œæ‹¿æ¥â€
ä»`pnpm add antd`å¼€å§‹,åŸºäºantdçš„ä»£ç å¢åŠ åŠŸèƒ½å­¦ä¹ ä½¿ç”¨ç¬¬ä¸‰æ–¹ç»„ä»¶
![alt text](https://img2024.cnblogs.com/blog/3492455/202602/3492455-20260203214735273-307961410.png)
```javascript
import React from 'react';

import { Flex, Space, Table, Tag } from 'antd';
const columns = [
  {
    title: 'Name',
    dataIndex: 'name',
    key: 'name',
    render: text => <>
      {text.includes('Jim')&&<Tag color="error">é‡ç‚¹å…³æ³¨</Tag>}
      {/* a && b:aæˆç«‹å°±æ¸²æŸ“b */}
      {<a>{text}</a>}
    </>,
    filters:[
      {
      text:'å§“ J çš„',value:'J'
    },
      {
      text:'å§“ K çš„',value:'K'
    },
  ],
  onFilter:(value,record) =>record.name.startsWith(value),
  },
  {
    title: 'Age',
    dataIndex: 'age',
    key: 'age',
    // render:text =><span style={{color:text>40? 'red':''}}>{text +"å²"}</span>
    render:text =><span style={text>40?{color:'red'}:undefined}>{text +"å²"}</span>,//è¿™ä¸ªæ›´å¥½ï¼Œå…ˆæ‰§è¡Œåˆ¤æ–­å†å†³å®šè¦ä¸è¦ç»‘å®šcss
    sorter:(a,b) =>a.age - b.age
  },
  {
    title: 'Address',
    dataIndex: 'address',
    key: 'address',
    filters:[
      {text:'çº½çº¦',value:'New York'},
      {text:'ä¼¦æ•¦',value:'London'},
      
    ],
    onFilter:(value,record) =>record.address.startsWith(value),
  },
  {
    title: 'Tags',
    key: 'tags',
    dataIndex: 'tags',
    render: (_, { tags }) => (
      <Flex gap="small" align="center" wrap>
        {tags.map(tag => {
          let color = tag.length > 5 ? 'geekblue' : 'green';
          if (tag === 'loser') {
            color = 'volcano';
          }
          return (
            <Tag color={color} key={tag}>
              {tag.toUpperCase()}
            </Tag>
          );
        })},

      </Flex>
    ),
  },
  {
    title: 'Action',
    key: 'action',
    render: (_, record) => (
      <Space size="middle">
        <a>Invite {record.name}</a>
        <a>Delete</a>
        <a onClick={()=>console.log(`ä½ å¥½ï¼Œæ¥è‡ª${record.address}çš„${record.name}!`)}>greet</a>
      </Space>
    ),
  },
];
const data = [
  {
    key: '1',
    name: 'John Brown',
    age: 32,
    address: 'New York No. 1 Lake Park',
    tags: ['nice', 'developer'],
  },
  {
    key: '2',
    name: 'Jim Green',
    
    age: 42,
    address: 'London No. 1 Lake Park',
    tags: ['loser'],
  },
  {
    key: '3',
    name: 'Joe Black',
    age: 32,
    address: 'Sydney No. 1 Lake Park',
    tags: ['cool', 'teacher'],
  },
  {
    key: '4',
    name: 'Ken Black',
    age: 49,
    address: '  No. 5 Lake Park',
    tags: ['joker', 'teacher'],
  },
];
const App = () => <Table columns={columns} dataSource={data} />;
export default App;
```

## 1 å­¦ä¹ Table

Table ç»„ä»¶çš„æœ¬è´¨æ˜¯**è§„åˆ™ä¸æ•°æ®çš„è§£è€¦**ã€‚

* **`dataSource`**ï¼šåç«¯ç»™ä½ çš„åŸå§‹æ•°æ®ï¼ˆæ•°ç»„å¯¹è±¡ï¼‰ï¼Œæ˜¯è¡¨æ ¼çš„â€œè¡€è‚‰â€ã€‚
* **`columns`**ï¼šä½ å®šä¹‰çš„å±•ç¤ºè§„åˆ™ï¼ˆé…ç½®æ•°ç»„ï¼‰ï¼Œæ˜¯è¡¨æ ¼çš„â€œéª¨æ¶â€ã€‚

## 2  `columns` åˆ—é…ç½®çš„ä¸‰å‰‘å®¢

æ¯ä¸€åˆ—é…ç½®é€šå¸¸åŒ…å«ä»¥ä¸‹åŸºç¡€å±æ€§ï¼š

* **`title`**ï¼šè¡¨å¤´æ˜¾ç¤ºçš„åç§°ï¼ˆå¦‚ï¼šå§“åã€å¹´é¾„ï¼‰ã€‚
* **`dataIndex`**ï¼šå¯¹åº”`dataSource`ä¸­çš„å­—æ®µåï¼Œè¿æ¥æ•°æ®ä¸å•å…ƒæ ¼ã€‚
* **`key`**ï¼šReact æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–ç”¨çš„å”¯ä¸€æ ‡è¯†ï¼Œé€šå¸¸ä¸ `dataIndex` ä¿æŒä¸€è‡´ã€‚



## 3  è¿›é˜¶æŠ€å·§ï¼šè‡ªå®šä¹‰æ¸²æŸ“ (`render`)

è¿™æ˜¯ Table æœ€å¼ºå¤§çš„åœ°æ–¹ï¼Œè®©ä½ èƒ½è·³å‡ºçº¯æ–‡å­—çš„é™åˆ¶ã€‚

| è¯­æ³• | GJ504bçš„å®æˆ˜æ¡ˆä¾‹ | æ ¸å¿ƒè¦ç‚¹ |
| --- | --- | --- |
| **åŸºç¡€æ¸²æŸ“** | `render: text => <a>{text}</a>` | å¤„ç†å½“å‰å•å…ƒæ ¼çš„å€¼ã€‚ |
| **æ¡ä»¶æ¸²æŸ“ (&&)** | `{text.includes('Jim') && <Tag>é‡ç‚¹å…³æ³¨</Tag>}` | åˆ©ç”¨çŸ­è·¯é€»è¾‘ï¼Œæ¡ä»¶æˆç«‹æ‰æ˜¾ç¤ºç»„ä»¶ã€‚ |
| **å¤šæ•°æ®è”åŠ¨** | `render: (_, record) => <span>{record.name}</span>` | åˆ©ç”¨ç¬¬äºŒä¸ªå‚æ•° `record` è·å–æ•´è¡Œæ•°æ®ã€‚ |
| **æ ·å¼ä¼˜åŒ–** | `style={text > 40 ? {color:'red'} : undefined}` | **æ€§èƒ½é‡‘å¥**ï¼šç”¨ `undefined` ä»£æ›¿ç©ºå­—ç¬¦ä¸²ï¼Œå‡å°‘æ— æ•ˆ CSS è®¡ç®—ã€‚ |



## 4 äº¤äº’å‡çº§ï¼šæ’åºä¸ç­›é€‰

è®©è¡¨æ ¼ä»â€œæ­»â€å˜â€œæ´»â€çš„å…³é”®é…ç½®

#### **æ’åº (`sorter`)**ï¼š
* å†™æ³•ï¼š`sorter: (a, b) => a.age - b.age`ã€‚
* åŸç†ï¼šå®šä¹‰ä¸¤ä¸ªæ•°å€¼çš„å¯¹æ¯”è§„åˆ™ï¼ŒAntd ä¼šè‡ªåŠ¨å¤„ç†å‡é™åºåˆ‡æ¢ã€‚
```javascript
  {
    title: 'Age',
    dataIndex: 'age',
    key: 'age',
    // render:text =><span style={{color:text>40? 'red':''}}>{text +"å²"}</span>
    render:text =><span style={text>40?{color:'red'}:undefined}>{text +"å²"}</span>,
//è¿™ä¸ªæ›´å¥½ï¼Œå…ˆæ‰§è¡Œåˆ¤æ–­å†å†³å®šè¦ä¸è¦ç»‘å®šcss
    sorter:(a,b) =>a.age - b.age
  },
```

![alt text](https://img2024.cnblogs.com/blog/3492455/202602/3492455-20260203214735711-1929566602.png)

#### **ç­›é€‰ (`filters` å’Œ `onFilter`)**ï¼š
* `filters`ï¼šå®šä¹‰ä¸‹æ‹‰èœå•çš„é€‰é¡¹ï¼ˆåŒ…å« `text` å’Œ `value`ï¼‰ã€‚
* `onFilter`ï¼šæ ¸å¿ƒè¿‡æ»¤å‡½æ•°ã€‚æ³¨æ„æ‹¼å†™ï¼šæ˜¯ **`startsWith`**ï¼ˆå¸¦ sï¼‰ã€‚
```javascript
  {
    title: 'Address',
    dataIndex: 'address',
    key: 'address',
    filters:[
      {text:'çº½çº¦',value:'New York'},
      {text:'ä¼¦æ•¦',value:'London'},
      
    ],//æ·»åŠ ç­›é€‰é¡¹
    onFilter:(value,record) =>record.address.startsWith(value),//ç­›é€‰é€»è¾‘çš„ç»‘å®š
  },
```
![alt text](https://img2024.cnblogs.com/blog/3492455/202602/3492455-20260203214735939-2014019220.png)
![alt text](https://img2024.cnblogs.com/blog/3492455/202602/3492455-20260203214736159-1477314002.png)


---

## 5 ES6 è¯­æ³•åŠ æ²¹ç«™

åœ¨å†™ Antd ä»£ç æ—¶ï¼Œè¿™äº›è¯­æ³•èƒ½è®©ä»£ç æ›´ä¼˜é›…ï¼š

* **æ¨¡æ¿å­—ç¬¦ä¸²**ï¼šä½¿ç”¨åå¼•å· **``** é…åˆ **`${}`** æ‹¼æ¥å˜é‡ï¼Œå‘Šåˆ«ç¹ççš„åŠ å·ã€‚
```
`ä½ å¥½ï¼Œæ¥è‡ª ${record.address} çš„ ${record.name}`
```


* **ç®­å¤´å‡½æ•°**ï¼šæç®€çš„å‡½æ•°å†™æ³•ï¼Œå¦‚æœé€»è¾‘åªæœ‰ä¸€è¡Œä¸”æ˜¯è¿”å›å€¼ï¼Œå¯ä»¥çœç•¥ `{ return }`ã€‚
* **å¯¹è±¡ç¼©å†™ä¸é€—å·**ï¼šå¯¹è±¡å±æ€§é—´å¿…é¡»ç”¨**é€—å·**éš”å¼€ï¼Œç‰¹åˆ«æ˜¯æŠŠ `sorter` æŒªåˆ° `render` åé¢æ—¶ï¼Œåƒä¸‡åˆ«æ¼äº† `render` ç»“å°¾çš„é€—å·ã€‚


## å¤ä¹ æ˜¨æ—¥åŠ›æ‰£
```javascript
/**
 * @param {string[]} strs
 * @return {string[][]}
 */
var groupAnagrams = function(strs) {
    const n = strs.length;
    const map = new Map();
    for(let i = 0; i< n;i ++){
        let arr = Array.from(strs[i]);
        //['a,'e','t']        
        let key = arr.sort().toString();
        //['aet']
        let list = map.get(key) ? map.get(key) : new Array();
        //å¼€è¾Ÿæ•°ç»„listç©ºé—´
        list.push(strs[i])
        //æŠŠå€¼æ”¾å…¥listæ•°ç»„é‡Œ
        map.set(key,list)
        //è§„å®šmapå“ˆå¸Œè¡¨é‡Œçš„é”®ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆlistæ•°ç»„ï¼‰
    }
    return Array.from(map.values())
    //æœ€åéå†å®Œåè¿”å›å“ˆå¸Œè¡¨ çš„å€¼
};



/**
 * @param {string[]} strs
 * @return {string[][]}
 */
var groupAnagrams = function(strs) {
    const map = new Map();
    for(let str of strs){
        let arr = Array.from(str);
        let key = arr.sort().toString();
        let list = map.get(key)?map.get(key):new Array();
        list.push(str);
        map.set(key,list);
    }
    return Array.from(map.values())
};
/*
éå†æ•°ç»„æ—¶ï¼Œé¿å…ç”¨ for...inï¼Œä¼˜å…ˆä½¿ç”¨for...ofæˆ–æ™®é€š for å¾ªç¯ï¼Œé˜²æ­¢æ‹¿åˆ°ç´¢å¼•è€Œéå…ƒç´ ã€‚
Mapçš„has()ç”¨äºåˆ¤æ–­å­˜åœ¨æ€§ï¼Œget()ç”¨äºè·å–å€¼ï¼ŒäºŒè€…ä¸èƒ½æ··ç”¨ã€‚*/

```
## æ–°é¢˜
![alt text](https://img2024.cnblogs.com/blog/3492455/202602/3492455-20260203214736664-480838209.png)
æ²¡æœ‰ç”¨å“ˆå¸Œè¡¨ï¼Œè‡ªå·±å°è¯•å†™ï¼Œæ—¶é—´å¤æ‚åº¦O(nlog(n))
**é”™è¯¯ï¼š**
1. å¤„ç†é‡å¤å…ƒç´ å‡ºé”™ï¼Œæƒ³æ˜ç™½æ˜¯è·³è¿‡è¿˜æ˜¯ä¸åšå¤„ç†
2. countè®¾ç½®æ—¶å€™åˆå§‹å€¼ï¼Ÿä»¥åŠç©ºæ•°ç»„å¤„ç†æœªæ·»åŠ 
3. Arrayçš„sortæ–¹æ³•æ˜¯æŒ‰Unicodeæ’åºçš„ï¼Œå¦‚æœè¦å¼ºåˆ¶æŒ‰å¤§å°æ’åºè¦ï¼š
`Array.sort((a,b)=>a-b)`
```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var longestConsecutive = function (nums) {
    // nums.sort();//æŒ‰ç…§Unicodeæ’åºï¼Œä»¥å¼€å¤´ä¼˜å…ˆ
    nums.sort((a, b) => a - b)//å¼ºåˆ¶å‡åºæ’åˆ—
    // cosnt map = new Map();
    const n = nums.length;
    if(n ===0)return 0;
    let max = 1;
    let count = 1;
    for (let i = 0; i < n - 1; i++) {
        if (nums[i] === nums[i + 1]) {
            
        } else {
            if (nums[i] + 1 === nums[i + 1]) {
                count++;
                max = Math.max(max, count);
            } else {
                
                count = 1;
            }
        }
    }
    return max;
};
```


